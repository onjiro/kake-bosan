<div class="container-fluid">
  <div class="row">
    <section class="account-items-configs" ng-controller="AccountingItemsConfigController">
      <h3>勘定科目設定</h3>
      <table class="table">
        <thead>
          <tr>
            <th>科目名</th>
            <th>分類</th>
            <th>説明</th>
            <th></th>
          </tr>
        </thead>
        <tbody ng-repeat="item in items">
          <!-- 通常表示 -->
          <tr ng-hide="item.editing">
            <td ng-class="{deleted: item.deleted_at}">{{item.name}}</td>
            <td ng-class="{deleted: item.deleted_at}">{{item.type.name}}</td>
            <td ng-class="{deleted: item.deleted_at}">{{item.description}}</td>
            <td class="controls">
              <button class="btn btn-mini btn-default" ng-click="item.editing = true"><i class="glyphicon glyphicon-edit"></i> 編集</button>
              <button class="btn btn-mini btn-default" ng-hide="item.deleted_at"><i class="glyphicon glyphicon-remove"></i> 無効化</button>
              <button class="btn btn-mini btn-default" ng-show="item.deleted_at"><i class="glyphicon glyphicon-ok"></i> 有効化</button>
            </td>
          </tr>

          <!-- 編集時 -->
          <tr ng-show="item.editing">
            <td>
              <input type="text" class="form-control" ng-model="item.name" ng-focus-on-change="item.editing"/>
            </td>
            <td>
              <select class="form-control" ng-model="item.type_id">
                <option value="1">資産</option>
                <option value="2">費用</option>
                <option value="3">負債</option>
                <option value="4">資本</option>
                <option value="5">収益</option>
              </select>
            </td>
            <td>
              <input type="text" class="form-control" ng-model="item.description"/>
            </td>
            <td class="controls">
              <button class="btn btn-mini btn-primary" ng-click="updateAccountingItem(item);"><i class="glyphicon glyphicon-ok"></i> 決定</button>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="controls">
        controll
      </div>
    </section>
  </div>
</div>
